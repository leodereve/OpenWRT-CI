# --- 设备平台设置 (Docker 运行不需要引导扇区) ---
CONFIG_TARGET_x86=y
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_x86_64_DEVICE_generic=y

# --- 输出格式设置: 仅生成 rootfs.tar.gz ---
CONFIG_TARGET_ROOTFS_TARGZ=y
# 禁用所有物理镜像格式以大幅减小体积
# CONFIG_GRUB_IMAGES is not set
# CONFIG_VMDK_IMAGES is not set
# CONFIG_TARGET_IMAGES_GZIP is not set
# CONFIG_TARGET_ROOTFS_EXT4FS is not set
# CONFIG_TARGET_ROOTFS_SQUASHFS is not set

# --- 基础组件 ---
CONFIG_PACKAGE_luci=y

# --- 核心插件配置 ---
# 1. Nikki (代理)
CONFIG_PACKAGE_luci-app-nikki=y

# 2. WoL Plus (网络唤醒)
CONFIG_PACKAGE_luci-app-wol=y

# 3. MosDNS (DNS优化)
CONFIG_PACKAGE_luci-app-mosdns=y
CONFIG_PACKAGE_mosdns=y

# --- 移除/禁用 Usteer (无 WiFi 环境不需要) ---
CONFIG_PACKAGE_luci-app-usteer=n
CONFIG_PACKAGE_usteer=n

# --- 精简：移除所有物理硬件驱动 (Docker 环境不需要) ---
# 移除磁盘工具
# CONFIG_PACKAGE_fdisk is not set
# CONFIG_PACKAGE_lsblk is not set
# CONFIG_PACKAGE_blkid is not set

# 移除物理网卡驱动 (e1000, igb, r8169 等)
# CONFIG_PACKAGE_kmod-e1000e is not set
# CONFIG_PACKAGE_kmod-igb is not set
# CONFIG_PACKAGE_kmod-r8168 is not set
# CONFIG_PACKAGE_kmod-r8125 is not set

# 移除 USB 驱动与固件
# CONFIG_PACKAGE_kmod-usb-core is not set
# CONFIG_PACKAGE_kmod-usb3 is not set
# CONFIG_PACKAGE_i915-firmware-dmc is not set

# --- 移除容器引擎相关 (镜像内不再运行容器) ---
# CONFIG_PACKAGE_luci-app-dockerman is not set
# CONFIG_PACKAGE_docker is not set
# CONFIG_PACKAGE_dockerd is not set
# CONFIG_PACKAGE_docker-compose is not set
# CONFIG_PACKAGE_containerd is not set

# --- 额外瘦身 ---
# CONFIG_PACKAGE_iperf3 is not set
# CONFIG_PACKAGE_coremark is not set
# CONFIG_PACKAGE_htop is not set
